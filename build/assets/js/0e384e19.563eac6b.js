"use strict";(self.webpackChunkmy_website_001=self.webpackChunkmy_website_001||[]).push([[9671],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(h,l(l({ref:t},u),{},{components:n})):a.createElement(h,l({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},59881:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return d}});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),l=["components"],i={sidebar_position:0},s=void 0,p={unversionedId:"intro",id:"intro",title:"intro",description:"A Web API for scalable 3D rendering in the cloud.",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/docs/intro",draft:!1,editUrl:"https://github.com/novorender/webgl-api-doc-test/edit/main/docs/intro.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"tutorialSidebar",next:{title:"Readme",permalink:"/docs/webgl-api/"}},u={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Usage",id:"usage",level:2},{value:"ES Module",id:"es-module",level:3},{value:"UMD/Global variable",id:"umdglobal-variable",level:3},{value:"NPM Module",id:"npm-module",level:3},{value:"Installation",id:"installation",level:2},{value:"Next steps",id:"next-steps",level:2},{value:"Further information",id:"further-information",level:2}],c={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("img",{src:"https://novorender.com/wp-content/uploads/2021/06/novorender_logo_RGB_2021.png"}),(0,o.kt)("h1",{id:"novorender"},(0,o.kt)("a",{parentName:"h1",href:"http://novorender.com/"},"NovoRender")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"A Web API for scalable 3D rendering in the cloud.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@novorender/webgl-api"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/npm/v/@novorender/webgl-api.svg?label=@novorender/webgl-api",alt:"Latest NPM Version"})),(0,o.kt)("br",{parentName:"p"}),"\n","Build version: 0.3.43",(0,o.kt)("br",{parentName:"p"}),"\n","Build date: Fri, 25 Feb 2022 13:56:13 GMT  "),(0,o.kt)("h2",{id:"requirements"},"Requirements"),(0,o.kt)("p",null,"Novorender requires a modern web browser with ",(0,o.kt)("a",{parentName:"p",href:"https://get.webgl.org/webgl2/"},"WebGL2")," and\n",(0,o.kt)("a",{parentName:"p",href:"https://webassembly.org/"},"WebAssembly")," support.",(0,o.kt)("br",null)),(0,o.kt)("img",{height:"64",src:"https://www.khronos.org/assets/images/api_logos/webgl.svg"}),(0,o.kt)("img",{height:"64",src:"https://upload.wikimedia.org/wikipedia/commons/1/1f/WebAssembly_Logo.svg"}),(0,o.kt)("h2",{id:"dependencies"},"Dependencies"),(0,o.kt)("p",null,"For linear algebra (vector and matrix math) we use the ",(0,o.kt)("a",{parentName:"p",href:"http://glmatrix.net/"},"gl-matrix")," library internally. Colors and 3D vectors are defined as ",(0,o.kt)("inlineCode",{parentName:"p"},"vec3")," types, which equates to a ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array"},"Float32Arrray")," of ",(0,o.kt)("inlineCode",{parentName:"p"},"length=3"),". If all you wish to do is to pass in parameters or read values, you may treat these types a regular array of numbers, i.e. you don't need the gl-matrix library itself for this. If you do wish to perform some linear algebra yourself, however, we recommend you do add it to your own code as well. Just make sure you use same major version as us (^3.3.0) and that you leave the array types to their default values."),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("h3",{id:"es-module"},"ES Module"),(0,o.kt)("p",null,"This example initializes the API directly from our ",(0,o.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Content_delivery_network"},"CDN")," without NPM or bundlers.\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"<script>")," tag must be of ",(0,o.kt)("inlineCode",{parentName:"p"},'type="module"')," to allow ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules"},"ES module")," imports."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},'import * as NovoRender from "https://api.novorender.com/scripts/v0.3.43/index.js";\nconst api = NovoRender.createAPI();\nconsole.log(api.version);\n')),(0,o.kt)("h3",{id:"umdglobal-variable"},"UMD/Global variable"),(0,o.kt)("p",null,"We also provide an ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/umdjs/umd"},"UMD")," variant of the api on our CDN, which will define the NovoRender namespace as global variable if imported directly in a script tag."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'...\n<head>\n    <script src="https://api.novorender.com/scripts/v0.3.43/index_umd.js"><\/script>\n</head>\n...\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"/*global NovoRender*/\nconst api = NovoRender.createAPI();\nconsole.log(api.version);\n")),(0,o.kt)("p",null,"Alternatively, you can use the ES module script and simply assign the namespace to a global variable yourself, like this.\nUMD is a legacy module format that we intend to phase out eventually."),(0,o.kt)("p",null,"But why use a global variable at all?\nUnfortunately not all bundlers support native loading of ES modules yet, so you may have to work around this limitation using a global variable for now.\nSee below for more details."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'...\n<head>\n    <script type="module">\n        import * as NovoRender from "https://api.novorender.com/scripts/v0.3.43/index.js";\n        self.NovoRender = NovoRender;\n    <\/script>\n</head>\n...\n')),(0,o.kt)("p",null,"If using this technique with typescript, you may want to declare the global variable in some project .d.ts file and install the npm package, if for no other reason than its type definitions."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'declare global {\n    const NovoRender: typeof import("@novorender/webgl-api");\n}\n')),(0,o.kt)("p",null,"Or, if you prefer, add this line to each file (typically just one) that references the NovoRender namespace instead:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'declare const NovoRender: typeof import("@novorender/webgl-api");\n')),(0,o.kt)("h3",{id:"npm-module"},"NPM Module"),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("p",null,"NovoRender is also available as an ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@novorender/webgl-api"},"NPM")," package. You can install NovoRender in your project's directory with npm:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm install @novorender/webgl-api\n")),(0,o.kt)("p",null,"For bleeding edge builds:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm install @novorender/webgl-api@next\n")),(0,o.kt)("p",null,"The package contains pre-bundled ES6 and UMD modules and typescript definition file that you can use for both local development and include in your web deployment."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Please note that many popular bundlers still don't have first class support for web workers and dynamic loading of native ES6 modules in the browser.\nAs such, the current version may not work without some additional configuration, like jQuery or lodash when loaded from a CDN.\nThis typically involves declaring NovoRender as some external dependency that you must provide yourself through a ",(0,o.kt)("inlineCode",{parentName:"p"},"<script>")," tag in your HTML file and a global namespace variable like in the UMD example above.")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Webpack: ",(0,o.kt)("a",{parentName:"li",href:"https://webpack.js.org/configuration/externals/"},"externals")),(0,o.kt)("li",{parentName:"ul"},"Rollup: ",(0,o.kt)("a",{parentName:"li",href:"https://rollupjs.org/guide/en/#external"},"external"),"."),(0,o.kt)("li",{parentName:"ul"},"Parcel V2: ",(0,o.kt)("a",{parentName:"li",href:"https://v2.parceljs.org/features/module-resolution#externals"},"externals")),(0,o.kt)("li",{parentName:"ul"},"Browserify: ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/thlorenz/browserify-shim"},"browserify-shim"))),(0,o.kt)("p",null,"Whether you load the NovoRender module from our CDN or your local web server, the ",(0,o.kt)("inlineCode",{parentName:"p"},"index.js")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"index_umd.js")," script expects to find the two worker scripts, ",(0,o.kt)("inlineCode",{parentName:"p"},"render.js")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"geometry.js"),", in the same folder as itself.\nNote that the worker scripts aren't loaded until you create your first view. If all you intend to do is to work with metadata, you may not even need them."),(0,o.kt)("p",null,"The example below creates a view and a demo scene containing a simple cube.\nIt uses ",(0,o.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/"},"typescript"),", but vanilla ECMAScript is of course also supported.\nThe API itself is built with typescript, as are several of our examples.\nEven our documentation uses typescript type notations, which should still be understandable for most javascript programmers.\nIf your project allows it, we recommend using typescript for your own code as well."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'import * as NovoRender from "@novorender/webgl-api";\nconst canvas = document.getElementById("output_canvas") as HTMLCanvasElement;\nconst api = NovoRender.createAPI();\nconst view = await api.createView(canvas);\nview.scene = await api.loadScene(NovoRender.WellKnownSceneUrls.cube);\n')),(0,o.kt)("p",null,"The canvas element itself may be transferred to a web worker, in which case it becomes unavailable to the main script.\nFor this and other reasons, our engine observes the size of your canvas's parent element using a ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver"},"ResizeObserver"),".\nWhenever the parent size changes, the canvas, internal render buffers and camera aspect ratio are automatically adjusted to fill the entire internal area of parent element."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<div style="width:400px; height:300px;">\n    <canvas id="output_canvas" style="width:100%; height:100%"></canvas>\n</div>\n')),(0,o.kt)("h2",{id:"next-steps"},"Next steps"),(0,o.kt)("p",null,"While you probably will want to delve into uploading your own CAD models and integrating object selection and highlighting with your internal metadata and databases eventually, you may want to tinker with camera controllers and render settings first.\nBuilding upon our previous typescript example, we'll add a different background color and turntable camera controller to make the cube spin."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'...\nconst api = NovoRender.createAPI();\nconst view = await api.createView(canvas, { background: { color: [0, 0, 0.25, 1] }});\nview.scene = await api.loadScene(NovoRender.WellKnownSceneUrls.cube);\nview.camera.controller = api.createCameraController({ kind: "turntable" });\n')),(0,o.kt)("p",null,"If everything went well, you should see ",(0,o.kt)("a",{parentName:"p",href:"https://api.novorender.com/demos/spinning_cube.html"},"this"),"."),(0,o.kt)("p",null,"What about an interactive camera controller?\nJust change the kind of controller and specify the HTML DOM element from which you want the controller to get its input, like touch, keyboard and mouse events from."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'...\nview.camera.controller = api.createCameraController({ kind: "flight"}, canvas);\n\n')),(0,o.kt)("p",null,"You may want to try other camera controllers and demo scenes as well before you start uploading your own CAD files."),(0,o.kt)("h2",{id:"further-information"},"Further information"),(0,o.kt)("p",null,"For more detailed documentation, please visit ",(0,o.kt)("a",{parentName:"p",href:"https://api.novorender.com/docs/v0.3.43/index.html"},"api.novorender.com"),"."),(0,o.kt)("p",null,"For examples, please visit our public ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/novorender/novorender-examples"},"github")," repository."))}m.isMDXComponent=!0}}]);